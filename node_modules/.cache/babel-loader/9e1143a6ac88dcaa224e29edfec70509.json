{"ast":null,"code":"import _classCallCheck from \"/Users/nikitamittal/Documents/PWAProjects/pushercoins/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nikitamittal/Documents/PWAProjects/pushercoins/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nikitamittal/Documents/PWAProjects/pushercoins/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nikitamittal/Documents/PWAProjects/pushercoins/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nikitamittal/Documents/PWAProjects/pushercoins/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nikitamittal/Documents/PWAProjects/pushercoins/src/Today/Today.js\";\n\n/**\n * Created by Nikita Mittal\n * 28th Nov 2018\n */\nimport React, { PureComponent } from 'react';\nimport axios from 'axios';\nimport Pusher from 'pusher-js'; //import css\n\nimport './Today.css';\n\nvar Today =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Today, _PureComponent);\n\n  function Today(props) {\n    var _this;\n\n    _classCallCheck(this, Today);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Today).call(this, props));\n\n    _this.sendPricePusher = function (data) {\n      axios.post('/prices/new', {\n        prices: data\n      }).then(function (response) {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      btcAmount: '',\n      ethAmount: '',\n      ltcAmount: ''\n    };\n    return _this;\n  }\n\n  _createClass(Today, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      // establish a connection to Pusher\n      this.pusher = new Pusher('6abcd4a00181368360ec', {\n        cluster: 'ap2',\n        encrypted: true\n      }); // Subscribe to the 'coin-prices' channel\n\n      this.prices = this.pusher.subscribe('coin-prices'); // axios.get('https://min-api.cryptocompare.com/data/pricemulti?fsyms=BTC,ETH,LTC&tsyms=USD')\n      //         .then(response => {\n      //             // We set the latest prices in the state to the prices gotten from Cryptocurrency.\n      //             //console.log(\"API calling success\", response)\n      //             this.setState({ btcAmount: response.data.BTC.USD });\n      //             this.setState({ ethAmount: response.data.ETH.USD });\n      //             this.setState({ ltcAmount: response.data.LTC.USD });\n      //         })\n      //         // Catch any error here\n      //         .catch(error => {\n      //             console.log(error)\n      //         })\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!navigator.onLine) {\n        this.setState({\n          btcprice: localStorage.getItem('BTC')\n        });\n        this.setState({\n          ethprice: localStorage.getItem('ETH')\n        });\n        this.setState({\n          ltcprice: localStorage.getItem('LTC')\n        });\n      }\n\n      setInterval(function () {\n        axios.get('https://min-api.cryptocompare.com/data/pricemulti?fsyms=BTC,ETH,LTC&tsyms=USD').then(function (response) {\n          _this2.sendPricePusher(response.data);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }, 10000);\n      this.prices.bind('prices', function (price) {\n        _this2.setState({\n          btcAmount: price.prices.BTC.USD\n        });\n\n        localStorage.setItem('BTC', price.prices.BTC.USD);\n\n        _this2.setState({\n          ethAmount: price.prices.ETH.USD\n        });\n\n        localStorage.setItem('ETH', price.prices.ETH.USD);\n\n        _this2.setState({\n          ltcAmount: price.prices.LTC.USD\n        });\n\n        localStorage.setItem('LTC', price.prices.LTC.USD);\n      }, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          btcAmount = _this$state.btcAmount,\n          ethAmount = _this$state.ethAmount,\n          ltcAmount = _this$state.ltcAmount;\n      return React.createElement(\"div\", {\n        className: \"today-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"today-btc-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"today-btc-data-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"today-amount-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"$\", btcAmount), React.createElement(\"div\", {\n        className: \"today-unit-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \" 1 BTC\"))), React.createElement(\"div\", {\n        className: \"today-eth-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"today-eth-data-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"today-amount-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"$\", ethAmount), React.createElement(\"div\", {\n        className: \"today-unit-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \" 1 ETH\"))), React.createElement(\"div\", {\n        className: \"today-ltc-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"today-ltc-data-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"today-amount-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"$\", ltcAmount), React.createElement(\"div\", {\n        className: \"today-unit-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \" 1 LTC\"))));\n    }\n  }]);\n\n  return Today;\n}(PureComponent);\n\nexport default Today;","map":{"version":3,"sources":["/Users/nikitamittal/Documents/PWAProjects/pushercoins/src/Today/Today.js"],"names":["React","PureComponent","axios","Pusher","Today","props","sendPricePusher","data","post","prices","then","response","console","log","catch","error","state","btcAmount","ethAmount","ltcAmount","pusher","cluster","encrypted","subscribe","navigator","onLine","setState","btcprice","localStorage","getItem","ethprice","ltcprice","setInterval","get","bind","price","BTC","USD","setItem","ETH","LTC"],"mappings":"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","sourcesContent":["/**\n * Created by Nikita Mittal\n * 28th Nov 2018\n */\n\nimport React, { PureComponent } from 'react'\nimport axios from 'axios'\nimport Pusher from 'pusher-js'\n\n//import css\nimport './Today.css'\n\nclass Today extends PureComponent {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            btcAmount: '',\n            ethAmount: '',\n            ltcAmount: ''\n        }\n    }\n\n    componentWillMount(){\n        // establish a connection to Pusher\n    this.pusher = new Pusher('6abcd4a00181368360ec', {\n        cluster: 'ap2',\n        encrypted: true\n    });\n    // Subscribe to the 'coin-prices' channel\n    this.prices = this.pusher.subscribe('coin-prices');\n        // axios.get('https://min-api.cryptocompare.com/data/pricemulti?fsyms=BTC,ETH,LTC&tsyms=USD')\n        //         .then(response => {\n        //             // We set the latest prices in the state to the prices gotten from Cryptocurrency.\n        //             //console.log(\"API calling success\", response)\n        //             this.setState({ btcAmount: response.data.BTC.USD });\n        //             this.setState({ ethAmount: response.data.ETH.USD });\n        //             this.setState({ ltcAmount: response.data.LTC.USD });\n        //         })\n        //         // Catch any error here\n        //         .catch(error => {\n        //             console.log(error)\n        //         })\n    }\n\n    sendPricePusher =  (data) => {\n        axios.post('/prices/new', {\n            prices: data\n        })\n          .then(response => {\n              console.log(response)\n          })\n          .catch(error => {\n              console.log(error)\n          })\n     }\n\n     componentDidMount () {\n        if (!navigator.onLine) {\n            this.setState({ btcprice: localStorage.getItem('BTC') });\n            this.setState({ ethprice: localStorage.getItem('ETH') });\n            this.setState({ ltcprice: localStorage.getItem('LTC') });\n        }\n        setInterval(() => {\n            axios.get('https://min-api.cryptocompare.com/data/pricemulti?fsyms=BTC,ETH,LTC&tsyms=USD')\n                .then(response => {\n                    this.sendPricePusher (response.data)\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        }, 10000)\n        this.prices.bind('prices', price => {\n            this.setState({ btcAmount: price.prices.BTC.USD });\n            localStorage.setItem('BTC', price.prices.BTC.USD);\n            this.setState({ ethAmount: price.prices.ETH.USD });\n            localStorage.setItem('ETH', price.prices.ETH.USD);\n            this.setState({ ltcAmount: price.prices.LTC.USD });\n            localStorage.setItem('LTC', price.prices.LTC.USD);\n          }, this);\n     }\n\n\n    render() {\n        const {btcAmount, ethAmount, ltcAmount} = this.state;\n        return (\n            <div className=\"today-container\">\n                <div className=\"today-btc-container\">\n                    <div className=\"today-btc-data-container\">\n                        <div className=\"today-amount-container\">${btcAmount}</div>\n                        <div className=\"today-unit-container\"> 1 BTC</div>\n                    </div>\n                </div>\n                <div className=\"today-eth-container\">\n                    <div className=\"today-eth-data-container\">\n                        <div className=\"today-amount-container\">${ethAmount}</div>\n                        <div className=\"today-unit-container\"> 1 ETH</div>\n                    </div>\n\n                </div>\n                <div className=\"today-ltc-container\">\n                    <div className=\"today-ltc-data-container\">\n                        <div className=\"today-amount-container\">${ltcAmount}</div>\n                        <div className=\"today-unit-container\"> 1 LTC</div>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Today"]},"metadata":{},"sourceType":"module"}